@model AmeCaseBookOrg.Models.Announcement

@{ 
    Layout = "~/Views/Shared/_LayoutJQGrid.cshtml";
}
<div id="sub_tit">
    <ul>
        <li>Create Announcement</li>

    </ul>

</div>
@Scripts.Render("~/bundles/tinymce")
<script type="text/javascript">
    tinyMCE.baseURL = "@Url.Content("~/Scripts/tinymce")";
    tinyMCE.init({
        selector: "textarea",
        theme: "modern",
        plugins: [
            "advlist autolink lists link image charmap print preview hr anchor pagebreak",
            "searchreplace wordcount visualblocks visualchars code fullscreen",
            "insertdatetime media nonbreaking save table contextmenu directionality",
            "emoticons template paste textcolor colorpicker textpattern imagetools"
        ],
        toolbar1: "insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image",
        toolbar2: "print preview media | forecolor backcolor emoticons",
        image_advtab: true,
        templates: [
            { title: 'Test template 1', content: 'Test 1' },
            { title: 'Test template 2', content: 'Test 2' }
        ]
    });
</script>

<div id="contents">
    @if (Request.IsAuthenticated && User.IsInRole("Admin"))
    {
        <div class="navi">
            @Html.ActionLink("Home", "Index", "Home") >@Html.ActionLink("Admin", "Index", "Admin") > <a href="~/Announcement/Index" class="ali">Announcements Management</a> > <span>Create Announcement</span>
        </div>
    }
    else
    {
        <div class="navi">
            @Html.ActionLink("Home", "Index", "Home") ><a href="~/Communication/Index/0/0" class="ali">Communication</a>   > <a href="~/Announcement/Index" class="ali">Announcements</a> > <span>Create Announcement</span>
        </div>
    }
    @using (Html.BeginForm("Create", "Announcement", FormMethod.Post, new { enctype = "multipart/form-data" }))
    {
        @Html.AntiForgeryToken()
            <div class="datail_v">
                @Html.ValidationSummary("", new { @class = "text-danger" })
                <div class="myinfo_add_ta">
                    <table>
                        <tr>
                            <th><i class="fa fa-chevron-circle-right"> </i> Title</th>
                            <td colspan="3">
                                @Html.EditorFor(model => model.Title, new { htmlAttributes = new { @class = "re_input", @style = "width:300px;text-align:left;padding-left:10px;" } })
                                @Html.ValidationMessageFor(model => model.Title, "", new { @class = "text-danger" })
                            </td>

                        </tr>
                        <tr>
                            <td colspan="2">
                                @Html.TextAreaFor(model => model.Content, new { htmlAttributes = new { @style = "width:100% ; height:500px" } })
                            </td>
                        </tr>
                        <tr>
                            <th><i class="fa fa-chevron-circle-right"> </i> Attached files</th>
                            <td >
                                <div id="dvSelectFiles"></div>
                                <div class="row fileupload-buttonbar">
                                    <div class="col-lg-7">
                                        <!-- The fileinput-button span is used to style the file input field as button -->
                                        <span class="btn btn-success fileinput-button">
                                            <i class="glyphicon glyphicon-plus"></i>
                                            <span>Add files...</span>
                                            <input id="fileupload" type="file" name="files[]" multiple data-url="/File/UploadFiles">
                                        </span>                                       
                                        <!-- The global file processing state -->
                                        <span class="fileupload-process"></span>
                                    </div>
                                    <!-- The global progress state -->
                                    <div class="col-lg-5 fileupload-progress fade">
                                        <!-- The global progress bar -->
                                        <div class="progress progress-striped active" role="progressbar" aria-valuemin="0" aria-valuemax="100">
                                            <div class="progress-bar progress-bar-success" style="width:0%;"></div>
                                        </div>
                                        <!-- The extended global progress state -->
                                        <div class="progress-extended">&nbsp;</div>
                                    </div>
                                </div>
                                <!-- The table listing the files available for upload/download -->
                                <table role="presentation" class="table table-striped"><tbody id="tbMainContainer" class="files"></tbody></table>
                           
                            </td>

                        </tr>
                    </table>
                    
                     <ul class="bt_blue" style="padding-right:10px;">
                        <li>
                            <input type="submit" value="Create" class="bt_blue_button" style="color:#fff;" />

                        </li>

                    </ul>
                 </div>
            </div>
            }
        </div>

@Html.Partial("UploadFile")
@Scripts.Render("~/backload/blueimp/bootstrap/BasicPlusUI")
<script type="text/javascript" src="/UploadImage/main.js"></script>
<script>
    initUploadFile($("#fileupload"), null);
</script>

